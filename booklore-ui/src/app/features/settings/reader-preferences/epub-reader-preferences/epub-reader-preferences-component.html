<div class="epub-preferences-container">
  <div class="setting-item">
    <div class="setting-info">
      <div class="setting-label-row">
        <label class="setting-label">Theme</label>
        <div class="theme-selector">
          @for (theme of themes; track theme) {
            <button
              type="button"
              class="theme-option"
              [class.selected]="selectedTheme === theme.key"
              [style.background-color]="theme.color"
              (click)="selectedTheme = theme.key"
              [attr.aria-label]="theme.name"
              [pTooltip]="theme.name"
              tooltipPosition="bottom">
              @if (selectedTheme === theme.key) {
                <i class="pi pi-check"></i>
              }
            </button>
          }
        </div>
      </div>
      <p class="setting-description">
        Choose the visual theme for EPUB reading experience.
      </p>
    </div>
  </div>

  <div class="setting-item">
    <div class="setting-info">
      <div class="setting-label-row">
        <label class="setting-label">Font</label>
        <div class="button-group">
          @for (font of fonts; track font) {
            <button
              type="button"
              class="option-button font-button"
              [class.selected]="selectedFont === font.key"
              [attr.data-font]="font.key"
              (click)="selectedFont = font.key"
              [pTooltip]="font.name"
              tooltipPosition="bottom">
              <span class="option-text">{{ font.displayName }}</span>
            </button>
          }
        </div>
      </div>
      <p class="setting-description">
        Select the font family for text display.
      </p>
    </div>
  </div>

  <div class="setting-item">
    <div class="setting-info">
      <div class="setting-label-row">
        <label class="setting-label">Flow</label>
        <div class="button-group">
          @for (flow of flowOptions; track flow) {
            <button
              type="button"
              class="option-button"
              [class.selected]="selectedFlow === flow.key"
              (click)="selectedFlow = flow.key">
              <i [class]="flow.icon"></i>
              <span class="option-text">{{ flow.name }}</span>
            </button>
          }
        </div>
      </div>
      <p class="setting-description">
        Configure text flow and reading direction.
      </p>
    </div>
  </div>

  <div class="setting-item">
    <div class="setting-info">
      <div class="setting-label-row">
        <label class="setting-label">Page Spread</label>
        <div class="button-group">
          @for (spread of spreadOptions; track spread) {
            <button
              type="button"
              class="option-button"
              [class.selected]="selectedSpread === spread.key"
              (click)="selectedSpread = spread.key">
              <i [class]="spread.icon"></i>
              <span class="option-text">{{ spread.name }}</span>
            </button>
          }
        </div>
      </div>
      <p class="setting-description">
        Choose between single page or double page spread view.
      </p>
    </div>
  </div>

  <div class="setting-item">
    <div class="setting-info">
      <div class="setting-label-row">
        <label class="setting-label">Font Size</label>
        <div class="font-size-controls">
          <p-button icon="pi pi-minus" size="small" rounded (click)="decreaseFontSize()"></p-button>
          <span class="font-size-value">{{ fontSize }}%</span>
          <p-button icon="pi pi-plus" size="small" rounded (click)="increaseFontSize()"></p-button>
        </div>
      </div>
      <p class="setting-description">
        Adjust the text size for comfortable reading.
      </p>
    </div>
  </div>
</div>
